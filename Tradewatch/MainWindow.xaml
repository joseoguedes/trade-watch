<Window x:Class="Tradewatch.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Tradewatch" Height="500" Width="700" Background="#111111">
    
    <Grid Background="Black">
        
        <Grid.Resources>
            <Style x:Key="TopLevelMenuItemStyle" TargetType="{x:Type MenuItem}">
                    <Setter Property="Margin" Value="6,0"/>
                    <Setter Property="Padding" Value="10,4"/>
                    <Setter Property="Background" Value="Transparent"/>
                    <Setter Property="Foreground" Value="White"/>
                    <Setter Property="BorderBrush" Value="Transparent"/>
                    <Setter Property="BorderThickness" Value="0"/>
                    <Setter Property="Cursor" Value="Hand"/>
                    <Style.Triggers>
                        <Trigger Property="IsHighlighted" Value="True">
                            <Setter Property="Background" Value="#156E68"/>
                        </Trigger>
                        <Trigger Property="IsSubmenuOpen" Value="True">
                            <Setter Property="Background" Value="#156E68"/>
                        </Trigger>
                    </Style.Triggers>
                </Style>

                <Style x:Key="SubMenuItemStyle" TargetType="{x:Type MenuItem}" BasedOn="{StaticResource TopLevelMenuItemStyle}">
                    
                    <Setter Property="Background" Value="#0E4E4A"/>
                    <Setter Property="Padding" Value="8,3"/>
                    <Setter Property="Margin" Value="2,1"/>
                    <Style.Triggers>
                        <Trigger Property="IsHighlighted" Value="True">
                            <Setter Property="Background" Value="#1E5F5B"/>
                            <Setter Property="Foreground" Value="White"/>
                        </Trigger>
                    </Style.Triggers>
                </Style>
                
                <Style TargetType="{x:Type Popup}">
                    <Setter Property="AllowsTransparency" Value="True"/>
                    <Setter Property="PopupAnimation" Value="Fade"/>
                </Style>
            </Grid.Resources>

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>   <!-- Menu bar -->
            <RowDefinition Height="Auto"/>   <!-- Top bar -->
            <RowDefinition Height="*"/>      <!-- Main content -->
        </Grid.RowDefinitions>

         <!-- 🧭 Menu bar -->
         <!-- dark viridian green -->
        <Menu Grid.Row="0"
              Background="#0E4E4A" 
              Foreground="White"
              FontSize="14"
              FontWeight="SemiBold"
              Padding="5,2"
              ItemContainerStyle="{StaticResource TopLevelMenuItemStyle}">

            <MenuItem Header="_File" ItemContainerStyle="{StaticResource SubMenuItemStyle}">
                <MenuItem Header="E_xit" Click="ExitMenuItem_Click"/>
            </MenuItem>

            <MenuItem Header="_Help" ItemContainerStyle="{StaticResource SubMenuItemStyle}">
                <MenuItem Header="_About" Click="AboutMenuItem_Click"/>
            </MenuItem>
                
            <MenuItem Header="_Settings" ItemContainerStyle="{StaticResource SubMenuItemStyle}">
                <MenuItem Header="_Theme" ItemContainerStyle="{StaticResource SubMenuItemStyle}">
                    <MenuItem Header="Dark" Click="DarkTheme_Click"/>
                    <MenuItem Header="Light" Click="LightTheme_Click"/>
                </MenuItem>
            </MenuItem>
        </Menu>

    <!-- Top section: Local time -->
    <StackPanel Grid.Row="1" 
                Orientation="Horizontal" 
                Margin="15,10,0,10" 
                VerticalAlignment="Top">
        <TextBlock Text="Local time: " 
                   Foreground="White"
                   FontSize="18"
                   VerticalAlignment="Center"
                   Margin="0,0,5,0"/>
        <TextBlock x:Name="LocalTimeText"
                   Foreground="White"
                   FontSize="18"
                   FontWeight="Bold"
                   VerticalAlignment="Center"/>
    </StackPanel>

    <!-- Main data grid -->
        <DataGrid x:Name="ExchangeGrid"
                  Grid.Row="2"
                  AutoGenerateColumns="False"
                  IsReadOnly="True"
                  HeadersVisibility="Column"
                  Background="Black"
                  Foreground="White"
                  BorderBrush="Gray"
                  FontSize="14"
                  Margin="10"
                  AlternatingRowBackground="#111"
                  RowBackground="#000">

            <DataGrid.CellStyle>
                <Style TargetType="DataGridCell">
                    <Setter Property="HorizontalContentAlignment" Value="Center"/>
                    <Setter Property="VerticalContentAlignment" Value="Center"/>
                </Style>
            </DataGrid.CellStyle>
    
    <!-- Style for header background and text -->
            <DataGrid.ColumnHeaderStyle>
                <Style TargetType="DataGridColumnHeader">
                    <Setter Property="Background" Value="#0B3D3A"/> <!-- dark viridian green -->
                    <Setter Property="Foreground" Value="White"/>
                    <Setter Property="FontWeight" Value="Bold"/>
                    <Setter Property="FontSize" Value="14"/>
                    <Setter Property="BorderBrush" Value="Black"/>
                    <Setter Property="BorderThickness" Value="0,0,0,1"/>
                    <Setter Property="HorizontalContentAlignment" Value="Center"/>
                    <Setter Property="VerticalContentAlignment" Value="Center"/>
                </Style>
            </DataGrid.ColumnHeaderStyle>

            <DataGrid.Columns>
                <DataGridTextColumn Header="Exchange" Binding="{Binding Name}" Width="*" />
                <DataGridTemplateColumn Header="Status" Width="130">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Center">
                                <Ellipse Width="12" Height="12" Margin="0,0,6,0" Fill="{Binding StatusColor}" />
                                <TextBlock Text="{Binding StatusText}" VerticalAlignment="Center" Foreground="White" FontWeight="Bold" TextAlignment="Center"/>
                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTextColumn Header="Local Time" Binding="{Binding LocalTime}" Width="100">
                    <DataGridTextColumn.ElementStyle>
                        <Style TargetType="TextBlock">
                            <Setter Property="HorizontalAlignment" Value="Center"/>
                            <Setter Property="VerticalAlignment" Value="Center"/>
                            <Setter Property="TextAlignment" Value="Center"/>
                        </Style>
                    </DataGridTextColumn.ElementStyle>
                </DataGridTextColumn>
                <DataGridTextColumn Header="Open Hours" Binding="{Binding OpenCloseHours}" Width="120">
                    <DataGridTextColumn.ElementStyle>
                        <Style TargetType="TextBlock">
                            <Setter Property="HorizontalAlignment" Value="Center"/>
                            <Setter Property="VerticalAlignment" Value="Center"/>
                            <Setter Property="TextAlignment" Value="Center"/>
                        </Style>
                    </DataGridTextColumn.ElementStyle>
                </DataGridTextColumn>
            </DataGrid.Columns>
        </DataGrid>
    </Grid>
</Window>
